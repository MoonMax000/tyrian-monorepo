# üéØ –§–ò–ù–ê–õ–¨–ù–´–ô –°–¢–ê–¢–£–°

## ‚úÖ –ß–¢–û –†–ê–ë–û–¢–ê–ï–¢ –ò–î–ï–ê–õ–¨–ù–û:

### 1. CORS –ø–æ–ª–Ω–æ—Å—Ç—å—é –∏—Å–ø—Ä–∞–≤–ª–µ–Ω! üéâ
```
Access-Control-Allow-Origin: http://localhost:3000 ‚úÖ
Access-Control-Allow-Credentials: true ‚úÖ
CORS headers ARE set ‚úÖ
```

**–í—Å–µ 3 —Ç–µ—Å—Ç–∞ –ø—Ä–æ—à–ª–∏ —É—Å–ø–µ—à–Ω–æ!**

### 2. –í—Å–µ —Å–µ—Ä–≤–∏—Å—ã –∑–∞–ø—É—â–µ–Ω—ã:
- ‚úÖ Auth Service (8001)
- ‚úÖ Marketplace (4205)
- ‚úÖ Test Server (3000)

### 3. Google OAuth –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ:
- ‚úÖ –†–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ Google —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ –í—ã–±–æ—Ä –∞–∫–∫–∞—É–Ω—Ç–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ Callback URL –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π

---

## ‚ùå –û–°–¢–ê–õ–ê–°–¨ –û–î–ù–ê –ü–†–û–ë–õ–ï–ú–ê:

### Google Client Secret –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç!

**–û—à–∏–±–∫–∞:**
```json
{
    "error": "Failed to authenticate with Google",
    "details": "400 Client Error: Bad Request for url: https://oauth2.googleapis.com/token"
}
```

**–ü—Ä–∏—á–∏–Ω–∞:**
```bash
export GOOGLE_CLIENT_SECRET=""  # ‚Üê –ü–£–°–¢–û–ô!
```

Google –Ω–µ –º–æ–∂–µ—Ç –æ–±–º–µ–Ω—è—Ç—å authorization code –Ω–∞ access token –±–µ–∑ client_secret.

---

## üîß –ö–ê–ö –ò–°–ü–†–ê–í–ò–¢–¨:

### –®–∞–≥ 1: –ü–æ–ª—É—á–∏ Client Secret

–û—Ç–∫—Ä–æ–π Google Cloud Console:
```
https://console.cloud.google.com/apis/credentials
```

–ù–∞–π–¥–∏ OAuth 2.0 Client —Å ID:
```
YOUR_GOOGLE_CLIENT_ID
```

–°–∫–æ–ø–∏—Ä—É–π **Client secret** (–±—É–¥–µ—Ç –≤—Ä–æ–¥–µ `GOCSPX-xxxxxxxxxxxxx`)

### –®–∞–≥ 2: –î–æ–±–∞–≤—å –≤ START_AUTH.sh

–û—Ç–∫—Ä–æ–π —Ñ–∞–π–ª:
```
START_AUTH.sh
```

–ù–∞–π–¥–∏ —Å—Ç—Ä–æ–∫—É 25:
```bash
export GOOGLE_CLIENT_SECRET=""
```

–ó–∞–º–µ–Ω–∏ –Ω–∞:
```bash
export GOOGLE_CLIENT_SECRET="–¢–í–û–ô_CLIENT_SECRET"
```

### –®–∞–≥ 3: –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏ Auth Service

```bash
lsof -ti:8001 | xargs kill -9
./START_AUTH.sh
```

### –®–∞–≥ 4: –ü–æ–ø—Ä–æ–±—É–π Login —Å–Ω–æ–≤–∞

–û—Ç–∫—Ä–æ–π:
```
http://localhost:4205
```

–ù–∞–∂–º–∏ **"Login"** ‚Üí –í—ã–±–µ—Ä–∏ –∞–∫–∫–∞—É–Ω—Ç Google ‚Üí **–ì–û–¢–û–í–û!** ‚úÖ

---

## üìä –ü–†–û–ì–†–ï–°–°:

```
‚úÖ Nx Monorepo —Å–æ–∑–¥–∞–Ω
‚úÖ 6 —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–æ–≤ –º–∏–≥—Ä–∏—Ä–æ–≤–∞–Ω—ã
‚úÖ 15 –±—ç–∫–µ–Ω–¥–æ–≤ –º–∏–≥—Ä–∏—Ä–æ–≤–∞–Ω—ã
‚úÖ Shared libraries –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã
‚úÖ Docker Compose –Ω–∞—Å—Ç—Ä–æ–µ–Ω
‚úÖ GitHub Actions CI/CD —Å–æ–∑–¥–∞–Ω
‚úÖ CORS –ø–æ–ª–Ω–æ—Å—Ç—å—é –∏—Å–ø—Ä–∞–≤–ª–µ–Ω üéâ
‚úÖ Google OAuth –Ω–∞—Å—Ç—Ä–æ–µ–Ω
‚è≥ Client Secret –Ω—É–∂–µ–Ω –¥–ª—è –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è
```

---

## üéâ –ü–û–ß–¢–ò –ì–û–¢–û–í–û!

**–û—Å—Ç–∞–ª–æ—Å—å —Ç–æ–ª—å–∫–æ –¥–æ–±–∞–≤–∏—Ç—å Client Secret –∏ –í–°–Å –ó–ê–†–ê–ë–û–¢–ê–ï–¢!**

–ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ:
- ‚úÖ Login —á–µ—Ä–µ–∑ Google –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å
- ‚úÖ –ü—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –±—É–¥–µ—Ç –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å—Å—è
- ‚úÖ SSO –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –Ω–∞ –≤—Å–µ—Ö —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞—Ö
- ‚úÖ –í—ã–ø–∞–¥–∞—é—â–µ–µ –º–µ–Ω—é —Å Profile –∏ Logout

---

## üìù –î–û–ü–û–õ–ù–ò–¢–ï–õ–¨–ù–ê–Ø –ò–ù–§–û–†–ú–ê–¶–ò–Ø:

### –ü—Ä–æ Test 2 –∫–æ—Ç–æ—Ä—ã–π –¥–æ–ª–≥–æ –≥—Ä—É–∑–∏—Ç—Å—è:

–≠—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –∏–∑-–∑–∞ **–∫–æ–Ω—Ñ–ª–∏–∫—Ç—É—é—â–∏—Ö cookies/—Å–µ—Å—Å–∏–π** –≤ –æ–±—ã—á–Ω–æ–º –±—Ä–∞—É–∑–µ—Ä–µ.

**–†–µ—à–µ–Ω–∏–µ:**
- –ò—Å–ø–æ–ª—å–∑—É–π **–ò–Ω–∫–æ–≥–Ω–∏—Ç–æ** –¥–ª—è —Ç–µ—Å—Ç–æ–≤ (—Ç–∞–º —Ä–∞–±–æ—Ç–∞–µ—Ç –±—ã—Å—Ç—Ä–æ)
- –ò–ª–∏ –æ—á–∏—Å—Ç–∏ cookies –¥–ª—è localhost
- –ü–æ—Å–ª–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è Client Secret –≤—Å—ë –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –Ω–æ—Ä–º–∞–ª—å–Ω–æ

---

## üöÄ –°–õ–ï–î–£–Æ–©–ò–ï –î–ï–ô–°–¢–í–ò–Ø:

1. **–ü–æ–ª—É—á–∏ Client Secret** –∏–∑ Google Console
2. **–û–±–Ω–æ–≤–∏ START_AUTH.sh**
3. **–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏ Auth Service**
4. **–ü–æ–ø—Ä–æ–±—É–π Login** –Ω–∞ http://localhost:4205
5. **–†–∞–¥—É–π—Å—è!** üéä

---

**–í—Å—ë –æ—Å—Ç–∞–ª—å–Ω–æ–µ –£–ñ–ï –†–ê–ë–û–¢–ê–ï–¢!** üéâ

–ü–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –≤ —Ñ–∞–π–ª–µ: **`GET_CLIENT_SECRET.md`**

