# üåê –ì–æ—Ç–æ–≤–æ! –ó–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ ngrok (–†–µ–∂–∏–º 2)

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –í—Å–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç!

---

## üìä –¢–µ–∫—É—â–∏–π –°—Ç–∞—Ç—É—Å:

‚úÖ **–í—Å–µ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥—ã –∑–∞–ø—É—â–µ–Ω—ã:**
- Marketplace (3005) ‚Üí 200 OK
- Social Network (3001) ‚Üí 307
- Stocks (3002) ‚Üí 200 OK  
- CoinMarketCap (3003) ‚Üí 307
- AI Profiles (3006) ‚Üí 307

‚úÖ **Nginx –ø—Ä–æ–∫—Å–∏ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
- http://localhost:8090 ‚Üí 200 OK

‚úÖ **Auth Server —Ä–∞–±–æ—Ç–∞–µ—Ç:**
- Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –∑–∞–ø—É—â–µ–Ω—ã
- API –¥–æ—Å—Ç—É–ø–µ–Ω –Ω–∞ localhost:8001

‚úÖ **.env —Ñ–∞–π–ª—ã —Å–æ–∑–¥–∞–Ω—ã** –¥–ª—è –≤—Å–µ—Ö —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–æ–≤

---

## üöÄ –®–∞–≥ 1: –ó–∞–ø—É—Å—Ç–∏—Ç–µ ngrok

**–í –æ—Ç–¥–µ–ª—å–Ω–æ–º –æ–∫–Ω–µ —Ç–µ—Ä–º–∏–Ω–∞–ª–∞ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:**

```bash
ngrok http 8090
```

**–í—ã –ø–æ–ª—É—á–∏—Ç–µ:**
```
ngrok                                                           

Session Status                online                                            
Account                       devidandersoncrypto@gmail.com (Plan: Free)        
Version                       3.30.0                                            
Region                        Asia Pacific (ap)                                 
Web Interface                 http://127.0.0.1:4040                             
Forwarding                    https://abc123def456.ngrok-free.app -> http://localhost:8090
                                                                                
Connections                   ttl     opn     rt1     rt5     p50     p90       
                              0       0       0.00    0.00    0.00    0.00      
```

**–í–ê–ñ–ù–û:** –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –≤–∞—à ngrok URL! –ù–∞–ø—Ä–∏–º–µ—Ä:
```
https://abc123def456.ngrok-free.app
```

---

## üîê –®–∞–≥ 2: –û–±–Ω–æ–≤–∏—Ç–µ Django –¥–ª—è ngrok

### 2.1 –û–±–Ω–æ–≤–∏—Ç–µ .env —Ñ–∞–π–ª Auth Server

**–§–∞–π–ª:** `AXA-auth-server-main/.env`

**–î–æ–±–∞–≤—å—Ç–µ –≤–∞—à ngrok URL –≤ –¥–≤–µ —Å—Ç—Ä–æ–∫–∏:**

```bash
# –ë—ã–ª–æ:
CSRF_TRUSTED_ORIGINS=http://localhost:8000,http://localhost:8001,http://localhost:8090,http://127.0.0.1:8000,http://127.0.0.1:8001

# –°—Ç–∞–ª–æ (–¥–æ–±–∞–≤—å—Ç–µ –≤–∞—à ngrok URL):
CSRF_TRUSTED_ORIGINS=http://localhost:8000,http://localhost:8001,http://localhost:8090,http://127.0.0.1:8000,http://127.0.0.1:8001,https://abc123def456.ngrok-free.app
```

```bash
# –ë—ã–ª–æ:
ALLOWED_HOSTS=localhost,127.0.0.1,*

# –°—Ç–∞–ª–æ (–¥–æ–±–∞–≤—å—Ç–µ –≤–∞—à –ø–æ–¥–¥–æ–º–µ–Ω):
ALLOWED_HOSTS=localhost,127.0.0.1,*,abc123def456.ngrok-free.app
```

**–ó–∞–º–µ–Ω–∏—Ç–µ `abc123def456` –Ω–∞ –≤–∞—à —Ä–µ–∞–ª—å–Ω—ã–π –ø–æ–¥–¥–æ–º–µ–Ω!**

### 2.2 –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ Auth Server

```bash
cd AXA-auth-server-main
docker compose restart auth-core
```

---

## ‚úÖ –®–∞–≥ 3: –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ!

### –õ–æ–∫–∞–ª—å–Ω–æ (–Ω–∞ –≤–∞—à–µ–º –∫–æ–º–ø–µ):

–û—Ç–∫—Ä–æ–π—Ç–µ: **http://localhost:8090**

- ‚úÖ –î–æ–ª–∂–µ–Ω –æ—Ç–∫—Ä—ã—Ç—å—Å—è Marketplace —Å–æ Sidebar
- ‚úÖ –ú–æ–∂–µ—Ç–µ —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è/–≤—Ö–æ–¥–∏—Ç—å

### –ò–∑ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞ (–æ—Ç–ø—Ä–∞–≤—å—Ç–µ –¥—Ä—É–≥—É):

–û—Ç–∫—Ä–æ–π—Ç–µ: **https://–≤–∞—à-url.ngrok-free.app**

**–ü—Ä–∏ –ø–µ—Ä–≤–æ–º –æ—Ç–∫—Ä—ã—Ç–∏–∏:**
1. ngrok –ø–æ–∫–∞–∂–µ—Ç –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ **"Visit Site"** 
2. –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É **"Visit Site"**
3. –û—Ç–∫—Ä–æ–µ—Ç—Å—è –≤–∞—à Marketplace! ‚úÖ

**–î—Ä—É–≥ —É–≤–∏–¥–∏—Ç:**
- ‚úÖ –ü–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π Marketplace —Å–æ Sidebar
- ‚úÖ –ú–æ–∂–µ—Ç —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è/–≤—Ö–æ–¥–∏—Ç—å
- ‚úÖ –í–∏–¥–∏—Ç –¥–∏–∑–∞–π–Ω –∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- ‚ö†Ô∏è –ö–Ω–æ–ø–∫–∏ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è –º–µ–∂–¥—É –ø—Ä–æ–¥—É–∫—Ç–∞–º–∏ –ø–æ–∫–∞ –≤–µ–¥—É—Ç –Ω–∞ localhost (–¥—Ä—É–≥ –∏—Ö –Ω–µ –æ—Ç–∫—Ä–æ–µ—Ç)

---

## üéØ Google OAuth (–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

### –®–∞–≥ 4.1: –°–æ–∑–¥–∞–π—Ç–µ Google OAuth App

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ: https://console.cloud.google.com/
2. **APIs & Services** ‚Üí **Credentials**
3. **Create Credentials** ‚Üí **OAuth client ID**
4. **Application type:** Web application
5. **Name:** AXA Platform ngrok

6. **Authorized JavaScript origins:**
```
https://–≤–∞—à-url.ngrok-free.app
http://localhost:8090
```

7. **Authorized redirect URIs:**
```
https://–≤–∞—à-url.ngrok-free.app/api/accounts/google/callback/
http://localhost:8090/api/accounts/google/callback/
```

8. –ù–∞–∂–º–∏—Ç–µ **Create**
9. **–°–∫–æ–ø–∏—Ä—É–π—Ç–µ:**
   - Client ID
   - Client Secret

### –®–∞–≥ 4.2: –ù–∞—Å—Ç—Ä–æ–π—Ç–µ Django (–ï—Å–ª–∏ –Ω—É–∂–µ–Ω Google OAuth)

**–≠—Ç–æ —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞, –¥–ª—è –±–∞–∑–æ–≤–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–∞!**

–ü–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –≤ —Ñ–∞–π–ª–µ: `FULL_SETUP_SSO_GOOGLE.md` (—Ä–∞–∑–¥–µ–ª "–ß–∞—Å—Ç—å 2")

---

## üì± –°—Å—ã–ª–∫–∏ –¥–ª—è –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:

### –î–ª—è –≤–∞—Å (–ª–æ–∫–∞–ª—å–Ω–æ):
```
http://localhost:8090       - Marketplace
http://localhost:8090/admin - Django Admin
```

### –î–ª—è –¥—Ä—É–≥–∞ (–∏–∑ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞):
```
https://–≤–∞—à-url.ngrok-free.app   - Marketplace
```

**–û—Ç–ø—Ä–∞–≤—å—Ç–µ —ç—Ç—É —Å—Å—ã–ª–∫—É –¥—Ä—É–≥—É!** –û–Ω —Å–º–æ–∂–µ—Ç:
- ‚úÖ –£–≤–∏–¥–µ—Ç—å –≤–∞—à —Å–∞–π—Ç
- ‚úÖ –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è
- ‚úÖ –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- ‚úÖ –£–≤–∏–¥–µ—Ç—å Sidebar —Å –Ω–∞–≤–∏–≥–∞—Ü–∏–µ–π

---

## ‚ö†Ô∏è –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –ë–µ—Å–ø–ª–∞—Ç–Ω–æ–≥–æ ngrok:

1. **–û–¥–∏–Ω –ø–æ—Ä—Ç** - —Ç–æ–ª—å–∫–æ Marketplace –¥–æ—Å—Ç—É–ø–µ–Ω –∏–∑ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞
   - Social, Stocks, Crypto, AI - —Ä–∞–±–æ—Ç–∞—é—Ç —Ç–æ–ª—å–∫–æ –ª–æ–∫–∞–ª—å–Ω–æ

2. **–ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ "Visit Site"** 
   - –ë—É–¥–µ—Ç –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å—Å—è –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –æ—Ç–∫—Ä—ã—Ç–∏–∏
   - –ß—Ç–æ–±—ã —É–±—Ä–∞—Ç—å - –Ω—É–∂–µ–Ω ngrok Pro ($8/–º–µ—Å—è—Ü)

3. **–í—Ä–µ–º–µ–Ω–Ω—ã–π URL**
   - –ü—Ä–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–µ ngrok URL –º–µ–Ω—è–µ—Ç—Å—è
   - –î–ª—è —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ URL - –Ω—É–∂–µ–Ω ngrok Pro

4. **SSO –º–µ–∂–¥—É —Å–µ—Ä–≤–∏—Å–∞–º–∏** 
   - –ù–µ —Ä–∞–±–æ—Ç–∞–µ—Ç —á–µ—Ä–µ–∑ ngrok –±–µ—Å–ø–ª–∞—Ç–Ω–æ
   - –î–ª—è –ø–æ–ª–Ω–æ–≥–æ SSO - –Ω—É–∂–µ–Ω –¥–µ–ø–ª–æ–π –Ω–∞ VPS –∏–ª–∏ ngrok Pro

---

## üîÑ –ö–∞–∫ –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å/–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å

### –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤—Å–µ:

```bash
# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å ngrok (–≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ –≥–¥–µ –æ–Ω –∑–∞–ø—É—â–µ–Ω)
Ctrl+C

# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥—ã
pkill -f "next dev"

# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Auth Server
cd AXA-auth-server-main
docker compose stop
```

### –ó–∞–ø—É—Å—Ç–∏—Ç—å –∑–∞–Ω–æ–≤–æ:

```bash
# 1. –ó–∞–ø—É—Å—Ç–∏—Ç—å Auth Server
cd AXA-auth-server-main
docker compose start

# 2. –ó–∞–ø—É—Å—Ç–∏—Ç—å —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥—ã (–∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ñ–æ–Ω–æ–≤—ã–π –∑–∞–ø—É—Å–∫)
cd AXA-marketplace-main && PORT=3005 npm run dev &
cd AXA-socialweb-frontend-main && PORT=3001 npm run dev &
cd AXA-stocks-frontend-main && PORT=3002 npm run dev &
cd AXA-coinmarketcap-main && PORT=3003 npm run dev &
cd AXA-Turian-AI-profiles-main && PORT=3006 npm run dev &

# 3. –ü–æ–¥–æ–∂–¥–∞—Ç—å 20 —Å–µ–∫—É–Ω–¥

# 4. –ó–∞–ø—É—Å—Ç–∏—Ç—å ngrok
ngrok http 8090
```

---

## üêõ Troubleshooting

### –ü—Ä–æ–±–ª–µ–º–∞: ngrok –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç 502

**–†–µ—à–µ–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –≤—Å–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –ª–æ–∫–∞–ª—å–Ω–æ:
```bash
curl http://localhost:8090
# –î–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å 200
```

### –ü—Ä–æ–±–ª–µ–º–∞: Auth Server –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

**–†–µ—à–µ–Ω–∏–µ:**
```bash
cd AXA-auth-server-main
docker compose ps
# –í—Å–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å "Up"

# –ï—Å–ª–∏ –Ω–µ—Ç - –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ
docker compose restart
```

### –ü—Ä–æ–±–ª–µ–º–∞: –§—Ä–æ–Ω—Ç–µ–Ω–¥ –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è

**–†–µ—à–µ–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏:
```bash
tail -50 /tmp/marketplace.log
tail -50 /tmp/social.log
```

### –ü—Ä–æ–±–ª–µ–º–∞: "Cannot GET /api/accounts/"

**–†–µ—à–µ–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ Auth Server –≤–∏–¥–∏—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ URL:
```bash
cd AXA-auth-server-main
cat .env | grep CSRF_TRUSTED_ORIGINS
# –î–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å –≤–∞—à ngrok URL
```

---

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:

- `FULL_SETUP_SSO_GOOGLE.md` - –ü–æ–ª–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ SSO + Google OAuth
- `AUTH_ANALYSIS.md` - –ê–Ω–∞–ª–∏–∑ —Å–∏—Å—Ç–µ–º—ã –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
- `PLATFORM_SETUP.md` - –û–±—â–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ –ø–ª–∞—Ç—Ñ–æ—Ä–º–µ

---

## üéâ –ì–æ—Ç–æ–≤–æ!

**–¢–µ–∫—É—â–∏–π URL –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:**

–í—ã –º–æ–∂–µ—Ç–µ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –ª–æ–∫–∞–ª—å–Ω–æ: **http://localhost:8090**

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ ngrok, –≤–∞—à–∞ —Å—Å—ã–ª–∫–∞ –±—É–¥–µ—Ç: **https://–≤–∞—à-url.ngrok-free.app**

**–û—Ç–ø—Ä–∞–≤—å—Ç–µ —ç—Ç—É —Å—Å—ã–ª–∫—É –¥—Ä—É–≥—É –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è!** üöÄ


