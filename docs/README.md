# üìö Tyrian Trade Documentation

–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞ Tyrian Trade - –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ –¥–ª—è —Ç—Ä–µ–π–¥–∏–Ω–≥–∞, —Å–æ—Ü–∏–∞–ª—å–Ω–æ–π —Å–µ—Ç–∏, AI-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–∞ –∏ live-streaming.

---

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

1. **[QUICK_START.md](setup/QUICK_START.md)** - –ö–∞–∫ –∑–∞–ø—É—Å—Ç–∏—Ç—å –ø–ª–∞—Ç—Ñ–æ—Ä–º—É –∑–∞ 5 –º–∏–Ω—É—Ç
2. **[CHEATSHEET.md](CHEATSHEET.md)** - –®–ø–∞—Ä–≥–∞–ª–∫–∞ –ø–æ –∫–æ–º–∞–Ω–¥–∞–º
3. **[OAUTH_DEBUG_GUIDE.md](OAUTH_DEBUG_GUIDE.md)** - –ì–∞–π–¥ –ø–æ Google OAuth (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –ø—Ä–æ—á–∏—Ç–∞—Ç—å!)

---

## üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏

### üîÑ Migration
–î–æ–∫—É–º–µ–Ω—Ç—ã –ø–æ –º–∏–≥—Ä–∞—Ü–∏–∏ –≤ Nx Monorepo:
- **[NX_MIGRATION_PLAN.md](migration/NX_MIGRATION_PLAN.md)** - –ü–ª–∞–Ω –º–∏–≥—Ä–∞—Ü–∏–∏
- **[NX_MIGRATION_SUMMARY.md](migration/NX_MIGRATION_SUMMARY.md)** - –ò—Ç–æ–≥–æ–≤—ã–π –æ—Ç—á–µ—Ç
- **[MIGRATION_STATUS.md](migration/MIGRATION_STATUS.md)** - –¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å

### ‚öôÔ∏è Setup
–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ:
- **[PLATFORM_SETUP.md](setup/PLATFORM_SETUP.md)** - –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã
- **[FULL_SETUP_SSO_GOOGLE.md](setup/FULL_SETUP_SSO_GOOGLE.md)** - –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Google OAuth
- **[NGROK_SETUP.md](setup/NGROK_SETUP.md)** - –ù–∞—Å—Ç—Ä–æ–π–∫–∞ ngrok –¥–ª—è production

### üîß Troubleshooting
–†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º:
- **[OAUTH_DEBUG_GUIDE.md](OAUTH_DEBUG_GUIDE.md)** - ‚≠ê –ì–ª–∞–≤–Ω—ã–π –≥–∞–π–¥ –ø–æ OAuth –ø—Ä–æ–±–ª–µ–º–∞–º
- **[LOGIN_FIX.md](troubleshooting/LOGIN_FIX.md)** - –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
- **[FIXES_SUMMARY.md](troubleshooting/FIXES_SUMMARY.md)** - –°–≤–æ–¥–∫–∞ –≤—Å–µ—Ö –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π
- **[QUICK_TROUBLESHOOTING.md](troubleshooting/QUICK_TROUBLESHOOTING.md)** - –ë—ã—Å—Ç—Ä—ã–µ —Ä–µ—à–µ–Ω–∏—è

### üèóÔ∏è Architecture
–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è:
- **[ARCHITECTURE.md](architecture/ARCHITECTURE.md)** - –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã
- **[BACKEND_FRONTEND_MAP.md](architecture/BACKEND_FRONTEND_MAP.md)** - –ö–∞—Ä—Ç–∞ backend/frontend
- **[PORTS.md](architecture/PORTS.md)** - –ö–∞—Ä—Ç–∞ –ø–æ—Ä—Ç–æ–≤ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
- **[SERVICES.md](architecture/SERVICES.md)** - –û–ø–∏—Å–∞–Ω–∏–µ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤

### ‚úÖ Completed
–ó–∞–≤–µ—Ä—à–µ–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏:
- **[FINAL_FIXES_COMPLETE.md](completed/FINAL_FIXES_COMPLETE.md)** - –§–∏–Ω–∞–ª—å–Ω—ã–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è
- **[SSO_SETUP_COMPLETE.md](completed/SSO_SETUP_COMPLETE.md)** - SSO –Ω–∞—Å—Ç—Ä–æ–µ–Ω
- **[VARIANT_3_COMPLETED.md](completed/VARIANT_3_COMPLETED.md)** - Variant 3 –∑–∞–≤–µ—Ä—à–µ–Ω

---

## üéØ –û—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –∏ –∏—Ö —Ä–µ—à–µ–Ω–∏—è

### 1. –ó–∞–≤–∏—Å–∞–Ω–∏–µ –ø—Ä–∏ Google OAuth –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
**–ü—Ä–æ–±–ª–µ–º–∞:** –ü–æ—Å–ª–µ –Ω–∞–∂–∞—Ç–∏—è "–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å" –≤ Google OAuth –∑–∞–≤–∏—Å–∞–µ—Ç –Ω–∞ –Ω–µ—Å–∫–æ–ª—å–∫–æ –º–∏–Ω—É—Ç.

**–†–µ—à–µ–Ω–∏–µ:** –°–º–æ—Ç—Ä–∏ **[OAUTH_DEBUG_GUIDE.md](OAUTH_DEBUG_GUIDE.md)**

**–ö—Ä–∞—Ç–∫–æ–µ —Ä–µ—à–µ–Ω–∏–µ:**
- –û—Ç–∫–ª—é—á–∏—Ç—å RabbitMQ sync –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Celery EAGER mode
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Database sessions –≤–º–µ—Å—Ç–æ Redis

---

### 2. 404 –Ω–∞ /api/accounts/profile/
**–ü—Ä–æ–±–ª–µ–º–∞:** Frontend –ø–æ–ª—É—á–∞–µ—Ç 404 –ø—Ä–∏ –∑–∞–ø—Ä–æ—Å–µ –ø—Ä–æ—Ñ–∏–ª—è.

**–†–µ—à–µ–Ω–∏–µ:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `/api/accounts/me/` –≤–º–µ—Å—Ç–æ `/profile/`

---

### 3. CORS –±–ª–æ–∫–∏—Ä—É–µ—Ç –∑–∞–ø—Ä–æ—Å—ã
**–ü—Ä–æ–±–ª–µ–º–∞:** Browser –±–ª–æ–∫–∏—Ä—É–µ—Ç –∑–∞–ø—Ä–æ—Å—ã –∫ Auth Service.

**–†–µ—à–µ–Ω–∏–µ:**
```bash
export CORS_ALLOW_ALL_ORIGINS="True"
export CORS_ALLOW_CREDENTIALS="True"
```

–ó–∞–ø—É—Å–∫–∞—Ç—å Django —Å `python manage.py runserver`, –ù–ï `uvicorn`!

---

## üîë –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

### Auth Service (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ):
```bash
DEBUG="True"
ALLOWED_HOSTS="localhost,127.0.0.1"
CORS_ALLOW_ALL_ORIGINS="True"
CORS_ALLOW_CREDENTIALS="True"
GOOGLE_CLIENT_ID="your-id"
GOOGLE_CLIENT_SECRET="your-secret"
GOOGLE_REDIRECT_URI="http://localhost:8001/api/accounts/google/callback/"
MARKETPLACE_URL="http://localhost:4205"
```

---

## üì¶ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –º–æ–Ω–æ—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è

```
tyrian-monorepo/
‚îú‚îÄ‚îÄ apps/
‚îÇ   ‚îú‚îÄ‚îÄ frontends/          # Frontend –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (Next.js, Vite)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ai-assistant/   # AI Assistant (Next.js) - :4201
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ live-streaming/ # Live Streaming (Next.js) - :4202
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ cryptocurrency/ # Cryptocurrency (Next.js) - :4203
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ social-network/ # Social Network (Next.js) - :4204
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ marketplace/    # Marketplace (Next.js) - :4205
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ stocks/         # Stocks (Next.js) - :4206
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ portfolios/     # Portfolios (Vite) - :5173
‚îÇ   ‚îÇ
‚îÇ   ‚îî‚îÄ‚îÄ backends/           # Backend —Å–µ—Ä–≤–∏—Å—ã
‚îÇ       ‚îú‚îÄ‚îÄ auth-service/   # Django Auth Service - :8001
‚îÇ       ‚îú‚îÄ‚îÄ auth-sync-service/        # Go Auth Sync
‚îÇ       ‚îú‚îÄ‚îÄ socialweb-*-service/      # Go Social Network services
‚îÇ       ‚îú‚îÄ‚îÄ stream-*-service/         # Go Streaming services
‚îÇ       ‚îî‚îÄ‚îÄ stocks-backend/           # Django Stocks backend
‚îÇ
‚îú‚îÄ‚îÄ libs/
‚îÇ   ‚îî‚îÄ‚îÄ shared/             # Shared libraries
‚îÇ       ‚îú‚îÄ‚îÄ ui/             # Shared UI components
‚îÇ       ‚îú‚îÄ‚îÄ api/            # Shared API utils
‚îÇ       ‚îú‚îÄ‚îÄ types/          # Shared TypeScript types
‚îÇ       ‚îî‚îÄ‚îÄ feature-flags/  # Feature flags
‚îÇ
‚îú‚îÄ‚îÄ docs/                   # üìö –í—Å—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
‚îú‚îÄ‚îÄ infrastructure/         # Docker, Kubernetes configs
‚îú‚îÄ‚îÄ .github/workflows/      # CI/CD workflows
‚îî‚îÄ‚îÄ nx.json                 # Nx configuration
```

---

## üõ†Ô∏è –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

### –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤:
```bash
# Frontend
npx nx serve ai-assistant --port 4201
npx nx serve live-streaming --port 4202
npx nx serve cryptocurrency --port 4203
npx nx serve social-network --port 4204
npx nx serve marketplace --port 4205
npx nx serve stocks --port 4206
npx nx serve portfolios --port 5173

# Backend
./START_AUTH.sh  # Auth Service –Ω–∞ :8001
```

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:
```bash
npx nx test shared-ui        # Unit tests
npx nx build ai-assistant    # Production build
npx nx lint marketplace      # Linting
```

### –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã:
```bash
npx nx graph                 # Dependency graph
npx nx affected:test        # Test affected projects
npx nx reset                # Clear cache
```

---

## üìä –°—Ç–∞—Ç—É—Å –ø—Ä–æ–µ–∫—Ç–∞

### ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–æ:
- [x] –ú–∏–≥—Ä–∞—Ü–∏—è 6 frontend –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π –≤ Nx
- [x] –ú–∏–≥—Ä–∞—Ü–∏—è 15 backend —Å–µ—Ä–≤–∏—Å–æ–≤
- [x] –ù–∞—Å—Ç—Ä–æ–π–∫–∞ shared libraries (ui, api, types, feature-flags)
- [x] Google OAuth SSO
- [x] User Profile –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
- [x] Docker Compose –¥–ª—è –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
- [x] CI/CD —Å GitHub Actions
- [x] –¢–µ—Å—Ç–æ–≤–∞—è –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ (Jest)

### üöß –í –ø—Ä–æ—Ü–µ—Å—Å–µ:
- [ ] Production deployment
- [ ] Kubernetes configs
- [ ] Monitoring –∏ logging
- [ ] E2E —Ç–µ—Å—Ç—ã

---

## üéì –£—Ä–æ–∫–∏ –∏ –ª—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏

### Django + Celery:
1. ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–π EAGER mode –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
2. ‚úÖ Django Signals –º–æ–≥—É—Ç –±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å HTTP response!
3. ‚úÖ Database sessions —Ä–∞–±–æ—Ç–∞—é—Ç –±–µ–∑ Redis
4. ‚úÖ –í—Å–µ–≥–¥–∞ –∑–∞–ø—É—Å–∫–∞–π —Å `manage.py runserver`, –Ω–µ `uvicorn`

### Next.js + Nx:
1. ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–π `transpilePackages` –¥–ª—è shared libraries
2. ‚úÖ Webpack aliases –¥–ª—è resolution
3. ‚úÖ `dynamic` import –¥–ª—è client-only –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
4. ‚úÖ –û—á–∏—â–∞–π `.next` –∫—ç—à –ø—Ä–∏ –ø—Ä–æ–±–ª–µ–º–∞—Ö

### CORS:
1. ‚úÖ `CORS_ALLOW_ALL_ORIGINS=True` –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
2. ‚úÖ `CORS_ALLOW_CREDENTIALS=True` –¥–ª—è cookies
3. ‚úÖ `CORS_EXPOSE_HEADERS` –¥–ª—è JavaScript –¥–æ—Å—Ç—É–ø–∞

---

## üìñ –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

- [Nx Documentation](https://nx.dev)
- [Next.js Documentation](https://nextjs.org/docs)
- [Django REST Framework](https://www.django-rest-framework.org)
- [Google OAuth Setup](https://console.cloud.google.com)

---

## ü§ù –ö–æ–Ω—Ç–∞–∫—Ç—ã

–î–ª—è –≤–æ–ø—Ä–æ—Å–æ–≤ –ø–æ –ø—Ä–æ–µ–∫—Ç—É –æ–±—Ä–∞—â–∞–π—Ç–µ—Å—å –∫ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –≤ –ø–∞–ø–∫–µ `docs/`.

---

**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** 5 –æ–∫—Ç—è–±—Ä—è 2025  
**–í–µ—Ä—Å–∏—è:** 1.0.0  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ Production Ready

